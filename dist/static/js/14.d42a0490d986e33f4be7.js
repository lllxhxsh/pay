webpackJsonp([14],{lfXq:function(e,t){},mlS1:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("woOf"),r=s.n(i),n=s("Og03"),l=s("xT6B"),a={resTypeId:null,createTime:null,title:null,sort:null,number:null},o={name:"queryResourceType",data:function(){return{list:null,listLoading:!1,dialogVisible:!1,isEdit:!1,resourceCategory:r()({},a)}},created:function(){this.getList()},filters:{formatDateTime:function(e){if(null==e||""===e)return"N/A";var t=new Date(e);return Object(l.a)(t,"yyyy-MM-dd hh:mm:ss")}},methods:{handleAdd:function(){this.dialogVisible=!0,this.isEdit=!1,this.resourceCategory=r()({},a)},handleUpdate:function(e,t){this.dialogVisible=!0,this.isEdit=!0,this.resourceCategory=r()({},t)},handleDelete:function(e,t){var s=this;this.$confirm("是否要删除该分类?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e={resTypeId:t.resTypeId};Object(n.b)(e).then(function(e){s.$message({type:"success",message:"删除成功!"}),s.getList()})})},handleDialogConfirm:function(){var e=this;null==this.resourceCategory.title||""==this.resourceCategory.title?this.$message({message:"名称不能为空",type:"success"}):null==this.resourceCategory.sort||""==this.resourceCategory.sort?this.$message({message:"排序不能为空",type:"success"}):this.$confirm("是否要确认?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){if(e.isEdit){var t={resTypeId:e.resourceCategory.resTypeId,title:e.resourceCategory.title,sort:e.resourceCategory.sort};Object(n.c)(t).then(function(t){e.$message({message:"修改成功！",type:"success"}),e.dialogVisible=!1,e.getList()})}else{var s={title:e.resourceCategory.title,sort:e.resourceCategory.sort};Object(n.a)(s).then(function(t){e.$message({message:"添加成功！",type:"success"}),e.dialogVisible=!1,e.getList()})}})},getList:function(){var e=this;this.listLoading=!0;Object(n.d)({pageNum:1,pageSize:10}).then(function(t){e.listLoading=!1;for(var s=t.list,i=[],r=0;r<s.length;r++){var n=s[r];n.number=r+1,i.push(n)}e.list=i})}}},c={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app-container"},[s("el-card",{staticClass:"operate-container",attrs:{shadow:"never"}},[s("i",{staticClass:"el-icon-tickets"}),e._v(" "),s("span",[e._v("资源分类列表")]),e._v(" "),s("el-button",{staticClass:"btn-add",attrs:{size:"mini"},on:{click:function(t){return e.handleAdd()}}},[e._v("添加")])],1),e._v(" "),s("div",{staticClass:"table-container"},[s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"resourceCategoryTable",staticStyle:{width:"100%"},attrs:{data:e.list,border:""}},[s("el-table-column",{attrs:{label:"编号",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.number))]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"名称",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.title))]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"创建时间",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatDateTime")(t.row.createTime)))]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"排序",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.sort))]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(s){return e.handleUpdate(t.$index,t.row)}}},[e._v("编辑\n          ")]),e._v(" "),s("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(s){return e.handleDelete(t.$index,t.row)}}},[e._v("删除\n          ")])]}}])})],1)],1),e._v(" "),s("el-dialog",{attrs:{title:"添加分类",visible:e.dialogVisible,width:"40%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("el-form",{ref:"resourceCategoryForm",attrs:{model:e.resourceCategory,"label-width":"150px",size:"small"}},[s("el-form-item",{attrs:{label:"名称："}},[s("el-input",{staticStyle:{width:"250px"},model:{value:e.resourceCategory.title,callback:function(t){e.$set(e.resourceCategory,"title",t)},expression:"resourceCategory.title"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"排序："}},[s("el-input",{staticStyle:{width:"250px"},model:{value:e.resourceCategory.sort,callback:function(t){e.$set(e.resourceCategory,"sort",t)},expression:"resourceCategory.sort"}})],1)],1),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.handleDialogConfirm()}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var u=s("VU/8")(o,c,!1,function(e){s("lfXq")},null,null);t.default=u.exports}});
//# sourceMappingURL=14.d42a0490d986e33f4be7.js.map