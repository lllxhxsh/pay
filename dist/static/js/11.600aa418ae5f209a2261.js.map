{"version":3,"sources":["webpack:///src/views/ums/menu/index.vue","webpack:///./src/views/ums/menu/index.vue?0c00","webpack:///./src/views/ums/menu/index.vue"],"names":["defaultListQuery","pageNum","pageSize","menuId","defaultResource","parentId","title","level","sort","frontName","icon","hidden","hasSubMenu","ums_menu","name","data","listQuery","assign_default","list","total","dialogVisible","resource","isEdit","selectMenuList","created","this","resetmenuId","getList","watch","$route","route","console","log","getMuneAddOrAmendList","methods","query","handleAddMenu","categoryId","defaultCategoryId","_this","listLoading","menuLiatData","Object","menu","then","response","_this2","unshift","onSubmit","formName","_this3","menuTitle","replace","menufrontName","menuicon","menusort","$message","message","type","$confirm","confirmButtonText","cancelButtonText","updateData","createData","resetForm","handleSizeChange","val","handleCurrentChange","handleHiddenChange","index","row","_this4","id","duration","handleShowNextLevel","$router","push","path","handleUpdate","alterUserDetail","handleDelete","_this5","deteleData","handleSelectResource","filters","levelFilter","value","disableNextLevel","views_ums_menu","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","shadow","staticStyle","margin-top","_v","size","on","click","$event","directives","rawName","expression","ref","width","border","label","align","scopedSlots","_u","key","fn","scope","_s","_f","icon-class","disabled","$index","background","layout","page-size","page-sizes","current-page","size-change","current-change","update:currentPage","$set","update:current-page","height","visible","update:visible","model","label-width","prop","callback","$$v","placeholder","_l","item","slot","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"6IA4HAA,GACAC,QAAA,EACAC,SAAA,GACAC,OAAA,GAEAC,GACAD,OAAA,EACAE,SAAA,EACAC,MAAA,KACAC,MAAA,KACAC,KAAA,KACAC,UAAA,KACAC,KAAA,KACAC,OAAA,KACAC,WAAA,MAEAC,GACAC,KAAA,WACAC,KAFA,WAGA,OACAC,UAAAC,OAAAjB,GACAkB,KAAA,KACAC,MAAA,KACAC,eAAA,EACAC,SAAAJ,OAAAb,GACAkB,QAAA,EACAjB,SAAA,EACAkB,oBAiBAC,QA5BA,WA6BAC,KAAAC,cACAD,KAAAE,WAIAC,OACAC,OADA,SACAC,GACAC,QAAAC,IAAA,QACAP,KAAAC,cACAD,KAAAE,UACAF,KAAAQ,0BAIAC,SACAR,YADA,WAEAD,KAAAT,UAAAf,QAAA,EACA,MAAAwB,KAAAI,OAAAM,MAAAhC,OACAsB,KAAAT,UAAAb,OAAAsB,KAAAI,OAAAM,MAAAhC,OAEAsB,KAAAT,UAAAb,OAAA,GAIAiC,cAVA,WAWAX,KAAAL,eAAA,EACAK,KAAAH,QAAA,EACAG,KAAAJ,SAAAJ,OAAAb,GACAqB,KAAAJ,SAAAgB,WAAAZ,KAAAa,mBAGAX,QAjBA,WAiBA,IAAAY,EAAAd,KACAA,KAAAe,aAAA,EACA,IAAAC,GAAAtC,OAAAsB,KAAAT,UAAAb,OAAAF,QAAAwB,KAAAT,UAAAf,QAAAC,SAAAuB,KAAAT,UAAAd,UAEMwC,OAAAC,EAAA,EAAAD,CAAND,GAAAG,KAAA,SAAAC,GACAN,EAAAC,aAAA,EACAD,EAAArB,KAAA2B,EAAA3B,KAEAqB,EAAApB,MAAA0B,EAAA1B,MACAoB,EAAAN,2BAIAA,sBA9BA,WA8BA,IAAAa,EAAArB,KACAgB,GAAAtC,OAAAsB,KAAAT,UAAAb,OAAAF,QAAAwB,KAAAT,UAAAf,QAAAC,SAAAuB,KAAAT,UAAAd,UAEMwC,OAAAC,EAAA,EAAAD,CAAND,GAAAG,KAAA,SAAAC,GACAC,EAAAvB,eAAAsB,EAAA3B,KACA4B,EAAA3B,MAAA0B,EAAA1B,MACA2B,EAAAvB,eAAAwB,SAAA5C,OAAA,EAAAG,MAAA,aAKA0C,SAzCA,SAyCAC,GAAA,IAAAC,EAAAzB,KAEA0B,EADA1B,KAAAJ,SAAAf,MACA8C,QAAA,WAGAC,EADA5B,KAAAJ,SAAAZ,UACA2C,QAAA,WAIAE,EADA7B,KAAAJ,SAAAX,KACA0C,QAAA,WAGAG,EADA9B,KAAAJ,SAAAb,KACA4C,QAAA,WACA,MAAA3B,KAAAJ,SAAAf,OAAA,IAAA6C,EACA1B,KAAA+B,UACAC,QAAA,WACAC,KAAA,YAEA,MAAAjC,KAAAJ,SAAAZ,WAAA,IAAA4C,EACA5B,KAAA+B,UACAC,QAAA,WACAC,KAAA,YAEA,MAAAjC,KAAAJ,SAAAX,MAAA,IAAA4C,EACA7B,KAAA+B,UACAC,QAAA,WACAC,KAAA,YAEA,MAAAjC,KAAAJ,SAAAb,MAAA,IAAA+C,EACA9B,KAAA+B,UACAC,QAAA,SACAC,KAAA,YAGAjC,KAAAkC,SAAA,eACAC,kBAAA,KACAC,iBAAA,KACAH,KAAA,YACAd,KAAA,WACA,GAAAM,EAAA5B,OAAA,CACA,IAAAwC,GAAA3D,OAAA+C,EAAA7B,SAAAlB,OAAAG,MAAA4C,EAAA7B,SAAAf,MAAAD,SAAA6C,EAAA7B,SAAAhB,SAAAG,KAAA0C,EAAA7B,SAAAb,KAAAE,KAAAwC,EAAA7B,SAAAX,KAAAC,OAAA,EAAAF,UAAAyC,EAAA7B,SAAAZ,WACYiC,OAAAC,EAAA,EAAAD,CAAZoB,GAAAlB,KAAA,SAAAC,GACAK,EAAAM,UACAC,QAAA,QACAC,KAAA,YAEAR,EAAA9B,eAAA,EACA8B,EAAAvB,gBAEA,CAEA,IAAAoC,GAAAzD,MAAA4C,EAAA7B,SAAAf,MAAAD,SAAA6C,EAAA7B,SAAAhB,SAAAG,KAAA0C,EAAA7B,SAAAb,KAAAE,KAAAwC,EAAA7B,SAAAX,KAAAC,OAAA,EAAAF,UAAAyC,EAAA7B,SAAAZ,WACYiC,OAAAC,EAAA,EAAAD,CAAZqB,GAAAnB,KAAA,SAAAC,GACAK,EAAAM,UACAC,QAAA,QACAC,KAAA,YAEAR,EAAA9B,eAAA,EACA8B,EAAAvB,gBAUAqC,UA7GA,SA6GAf,GACAxB,KAAAJ,SAAAJ,OAAAb,GACAqB,KAAAJ,SAAAgB,WAAAZ,KAAAa,mBAEA2B,iBAjHA,SAiHAC,GACAzC,KAAAT,UAAAf,QAAA,EACAwB,KAAAT,UAAAd,SAAAgE,EACAzC,KAAAE,WAEAwC,oBAtHA,SAsHAD,GACAzC,KAAAT,UAAAf,QAAAiE,EACAzC,KAAAE,WAEAyC,mBA1HA,SA0HAC,EAAAC,GAAA,IAAAC,EAAA9C,KACMiB,OAAAC,EAAA,EAAAD,CAAN4B,EAAAE,IAAA7D,OAAA2D,EAAA3D,SAAAiC,KAAA,SAAAC,GACA0B,EAAAf,UACAC,QAAA,OACAC,KAAA,UACAe,SAAA,SAKAC,oBApIA,SAoIAL,EAAAC,GACA7C,KAAAkD,QAAAC,MAAAC,KAAA,YAAA1C,OAAAhC,OAAAmE,EAAAnE,WAWA2E,aAhJA,SAgJAT,EAAAC,GACA7C,KAAAsD,iBAAA,EACAtD,KAAAH,QAAA,EACAG,KAAAJ,SAAAJ,OAAAqD,GAGA7C,KAAAL,eAAA,EACAK,KAAAH,QAAA,EACAG,KAAAJ,SAAAJ,OAAAqD,IAGAU,aA3JA,SA2JAX,EAAAC,GAAA,IAAAW,EAAAxD,KACAA,KAAAkC,SAAA,iBACAC,kBAAA,KACAC,iBAAA,KACAH,KAAA,YACAd,KAAA,WACA,IAAAsC,GAAA/E,OAAAmE,EAAAnE,QACQuC,OAAAC,EAAA,EAAAD,CAARwC,GAAAtC,KAAA,SAAAC,GACAoC,EAAAzB,UACAC,QAAA,OACAC,KAAA,UACAe,SAAA,MAEAQ,EAAAtD,eAKAwD,qBA7KA,SA6KAd,EAAAC,GACA7C,KAAAkD,QAAAC,MAAAC,KAAA,uBAAA1C,OAAAhC,OAAAmE,EAAAnE,YAIAiF,SACAC,YADA,SACAC,GACA,WAAAA,EACA,KACA,IAAAA,EACA,KACA,IAAAA,EACA,UADA,GAIAC,iBAVA,SAUAD,GACA,WAAAA,KCjXeE,GADEC,OAFjB,WAA0B,IAAAC,EAAAjE,KAAakE,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,kBAA4BF,EAAA,WAAgBE,YAAA,oBAAAC,OAAuCC,OAAA,WAAkBJ,EAAA,KAAUE,YAAA,kBAAAG,aAA2CC,aAAA,SAAoBT,EAAAU,GAAA,KAAAP,EAAA,QAAyBK,aAAaC,aAAA,SAAoBT,EAAAU,GAAA,UAAAV,EAAAU,GAAA,KAAAP,EAAA,aAA+CE,YAAA,UAAAC,OAA6BK,KAAA,QAAcC,IAAKC,MAAA,SAAAC,GAAyB,OAAAd,EAAAtD,oBAA6BsD,EAAAU,GAAA,0BAAAV,EAAAU,GAAA,KAAAP,EAAA,OAAyDE,YAAA,oBAA8BF,EAAA,YAAiBY,aAAa3F,KAAA,UAAA4F,QAAA,YAAApB,MAAAI,EAAA,YAAAiB,WAAA,gBAAoFC,IAAA,YAAAV,aAA+BW,MAAA,QAAeb,OAAQjF,KAAA2E,EAAAxE,KAAA4F,OAAA,MAA6BjB,EAAA,mBAAwBG,OAAOe,MAAA,KAAAF,MAAA,MAAAG,MAAA,UAA4CC,YAAAvB,EAAAwB,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAA3B,EAAAU,GAAAV,EAAA4B,GAAAD,EAAA/C,IAAAnE,gBAA8CuF,EAAAU,GAAA,KAAAP,EAAA,mBAAoCG,OAAOe,MAAA,OAAAC,MAAA,UAAgCC,YAAAvB,EAAAwB,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAA3B,EAAAU,GAAAV,EAAA4B,GAAAD,EAAA/C,IAAAhE,eAA6CoF,EAAAU,GAAA,KAAAP,EAAA,mBAAoCG,OAAOe,MAAA,OAAAF,MAAA,MAAAG,MAAA,UAA8CC,YAAAvB,EAAAwB,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAA3B,EAAAU,GAAAV,EAAA4B,GAAA5B,EAAA6B,GAAA,cAAA7B,CAAA2B,EAAA/C,IAAA/D,gBAAoEmF,EAAAU,GAAA,KAAAP,EAAA,mBAAoCG,OAAOe,MAAA,OAAAC,MAAA,UAAgCC,YAAAvB,EAAAwB,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAA3B,EAAAU,GAAAV,EAAA4B,GAAAD,EAAA/C,IAAA7D,mBAAiDiF,EAAAU,GAAA,KAAAP,EAAA,mBAAoCG,OAAOe,MAAA,OAAAF,MAAA,MAAAG,MAAA,UAA8CC,YAAAvB,EAAAwB,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAAxB,EAAA,YAAuBG,OAAOwB,aAAAH,EAAA/C,IAAA5D,eAAoCgF,EAAAU,GAAA,KAAAP,EAAA,mBAAoCG,OAAOe,MAAA,KAAAF,MAAA,MAAAG,MAAA,UAA4CC,YAAAvB,EAAAwB,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAA3B,EAAAU,GAAAV,EAAA4B,GAAAD,EAAA/C,IAAA9D,cAA4CkF,EAAAU,GAAA,KAAAP,EAAA,mBAAoCG,OAAOe,MAAA,KAAAF,MAAA,MAAAG,MAAA,UAA4CC,YAAAvB,EAAAwB,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAAxB,EAAA,aAAwBG,OAAOK,KAAA,OAAA3C,KAAA,OAAA+D,SAAA/B,EAAA6B,GAAA,mBAAA7B,CAAA2B,EAAA/C,IAAA1D,aAAwF0F,IAAKC,MAAA,SAAAC,GAAyB,OAAAd,EAAAhB,oBAAA2C,EAAAK,OAAAL,EAAA/C,SAA0DoB,EAAAU,GAAA,6BAAoCV,EAAAU,GAAA,KAAAP,EAAA,mBAAoCG,OAAOe,MAAA,KAAAF,MAAA,MAAAG,MAAA,UAA4CC,YAAAvB,EAAAwB,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAAxB,EAAA,aAAwBG,OAAOK,KAAA,OAAA3C,KAAA,QAA4B4C,IAAKC,MAAA,SAAAC,GAAyB,OAAAd,EAAAP,qBAAAkC,EAAAK,OAAAL,EAAA/C,SAA2DoB,EAAAU,GAAA,oCAAAV,EAAAU,GAAA,KAAAP,EAAA,aAAyEG,OAAOK,KAAA,OAAA3C,KAAA,QAA4B4C,IAAKC,MAAA,SAAAC,GAAyB,OAAAd,EAAAZ,aAAAuC,EAAAK,OAAAL,EAAA/C,SAAmDoB,EAAAU,GAAA,oBAAAV,EAAAU,GAAA,KAAAP,EAAA,aAAyDG,OAAOK,KAAA,OAAA3C,KAAA,QAA4B4C,IAAKC,MAAA,SAAAC,GAAyB,OAAAd,EAAAV,aAAAqC,EAAAK,OAAAL,EAAA/C,SAAmDoB,EAAAU,GAAA,4BAAkC,OAAAV,EAAAU,GAAA,KAAAP,EAAA,OAAgCE,YAAA,yBAAmCF,EAAA,iBAAsBG,OAAO2B,WAAA,GAAAC,OAAA,wCAAAC,YAAAnC,EAAA1E,UAAAd,SAAA4H,cAAA,UAAAC,eAAArC,EAAA1E,UAAAf,QAAAkB,MAAAuE,EAAAvE,OAAmLmF,IAAK0B,cAAAtC,EAAAzB,iBAAAgE,iBAAAvC,EAAAvB,oBAAA+D,qBAAA,SAAA1B,GAAkH,OAAAd,EAAAyC,KAAAzC,EAAA1E,UAAA,UAAAwF,IAAkD4B,sBAAA,SAAA5B,GAAwC,OAAAd,EAAAyC,KAAAzC,EAAA1E,UAAA,UAAAwF,QAAoD,GAAAd,EAAAU,GAAA,KAAAP,EAAA,OAA4BK,aAAamC,OAAA,WAAkB3C,EAAAU,GAAA,KAAAP,EAAA,aAA8BG,OAAO1F,MAAAoF,EAAApE,OAAA,cAAAgH,QAAA5C,EAAAtE,cAAAyF,MAAA,OAA2EP,IAAKiC,iBAAA,SAAA/B,GAAkCd,EAAAtE,cAAAoF,MAA2BX,EAAA,WAAgBe,IAAA,eAAAZ,OAA0BwC,MAAA9C,EAAArE,SAAAoH,cAAA,QAAApC,KAAA,WAA2DR,EAAA,gBAAqBG,OAAOe,MAAA,QAAA2B,KAAA,WAAgC7C,EAAA,YAAiBK,aAAaW,MAAA,SAAgB2B,OAAQlD,MAAAI,EAAArE,SAAA,MAAAsH,SAAA,SAAAC,GAAoDlD,EAAAyC,KAAAzC,EAAArE,SAAA,QAAAuH,IAAqCjC,WAAA,qBAA8B,GAAAjB,EAAAU,GAAA,KAAAP,EAAA,gBAAqCG,OAAOe,MAAA,WAAiBlB,EAAA,aAAkBG,OAAO6C,YAAA,SAAsBL,OAAQlD,MAAAI,EAAArE,SAAA,SAAAsH,SAAA,SAAAC,GAAuDlD,EAAAyC,KAAAzC,EAAArE,SAAA,WAAAuH,IAAwCjC,WAAA,sBAAiCjB,EAAAoD,GAAApD,EAAA,wBAAAqD,GAA4C,OAAAlD,EAAA,aAAuBsB,IAAA4B,EAAA5I,OAAA6F,OAAuBe,MAAAgC,EAAAzI,MAAAgF,MAAAyD,EAAA5I,YAA0C,OAAAuF,EAAAU,GAAA,KAAAP,EAAA,gBAAwCG,OAAOe,MAAA,QAAA2B,KAAA,UAA+B7C,EAAA,YAAiBK,aAAaW,MAAA,SAAgB2B,OAAQlD,MAAAI,EAAArE,SAAA,UAAAsH,SAAA,SAAAC,GAAwDlD,EAAAyC,KAAAzC,EAAArE,SAAA,YAAAuH,IAAyCjC,WAAA,yBAAkC,GAAAjB,EAAAU,GAAA,KAAAP,EAAA,gBAAqCG,OAAOe,MAAA,QAAA2B,KAAA,UAA+B7C,EAAA,YAAiBK,aAAaW,MAAA,SAAgB2B,OAAQlD,MAAAI,EAAArE,SAAA,KAAAsH,SAAA,SAAAC,GAAmDlD,EAAAyC,KAAAzC,EAAArE,SAAA,OAAAuH,IAAoCjC,WAAA,oBAA6B,GAAAjB,EAAAU,GAAA,KAAAP,EAAA,gBAAqCG,OAAOe,MAAA,SAAelB,EAAA,YAAiBK,aAAaW,MAAA,SAAgB2B,OAAQlD,MAAAI,EAAArE,SAAA,KAAAsH,SAAA,SAAAC,GAAmDlD,EAAAyC,KAAAzC,EAAArE,SAAA,OAAAuH,IAAoCjC,WAAA,oBAA6B,OAAAjB,EAAAU,GAAA,KAAAP,EAAA,QAAiCE,YAAA,gBAAAC,OAAmCgD,KAAA,UAAgBA,KAAA,WAAenD,EAAA,aAAkBG,OAAOtC,KAAA,WAAiB4C,IAAKC,MAAA,SAAAC,GAAyB,OAAAd,EAAA1C,eAAwB0C,EAAAU,GAAA,QAAAV,EAAAU,GAAA,KAAAV,EAAApE,OAA2HoE,EAAAuD,KAA3HpD,EAAA,aAA2DS,IAAIC,MAAA,SAAAC,GAAyB,OAAAd,EAAA1B,UAAA,gBAAmC0B,EAAAU,GAAA,qBAE73K8C,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACExI,EACA2E,GATF,EAVA,SAAA8D,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/11.600aa418ae5f209a2261.js","sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <el-card class=\"operate-container\" shadow=\"never\">\r\n      <i class=\"el-icon-tickets\" style=\"margin-top: 5px\"></i>\r\n      <span style=\"margin-top: 5px\">菜单列表</span>\r\n      <el-button\r\n        class=\"btn-add\"\r\n        @click=\"handleAddMenu()\"\r\n        size=\"mini\">\r\n        添加\r\n      </el-button>\r\n    </el-card>\r\n    <div class=\"table-container\">\r\n      <el-table ref=\"menuTable\"\r\n                style=\"width: 100%\"\r\n                :data=\"list\"\r\n                v-loading=\"listLoading\" border>\r\n        <el-table-column label=\"编号\" width=\"100\" align=\"center\">\r\n          <template slot-scope=\"scope\">{{scope.row.menuId}}</template>\r\n        </el-table-column>\r\n        <el-table-column label=\"菜单名称\" align=\"center\">\r\n          <template slot-scope=\"scope\">{{scope.row.title}}</template>\r\n        </el-table-column>\r\n        <el-table-column label=\"菜单级数\" width=\"100\" align=\"center\">\r\n          <template slot-scope=\"scope\">{{scope.row.level | levelFilter}}</template>\r\n        </el-table-column>\r\n        <el-table-column label=\"前端名称\" align=\"center\">\r\n          <template slot-scope=\"scope\">{{scope.row.frontName}}</template>\r\n        </el-table-column>\r\n        <el-table-column label=\"前端图标\" width=\"100\" align=\"center\">\r\n          <template slot-scope=\"scope\"><svg-icon :icon-class=\"scope.row.icon\"></svg-icon></template>\r\n        </el-table-column>\r\n\r\n        <el-table-column label=\"排序\" width=\"100\" align=\"center\">\r\n          <template slot-scope=\"scope\">{{scope.row.sort }}</template>\r\n        </el-table-column>\r\n        <el-table-column label=\"设置\" width=\"120\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button\r\n              size=\"mini\"\r\n              type=\"text\"\r\n              :disabled=\"scope.row.hasSubMenu | disableNextLevel\"\r\n              @click=\"handleShowNextLevel(scope.$index, scope.row)\">查看下级\r\n            </el-button>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\" width=\"200\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button size=\"mini\"\r\n                       type=\"text\"\r\n                       @click=\"handleSelectResource(scope.$index, scope.row)\">\r\n              分配资源\r\n            </el-button>\r\n            <el-button\r\n              size=\"mini\"\r\n              type=\"text\"\r\n              @click=\"handleUpdate(scope.$index, scope.row)\">编辑\r\n            </el-button>\r\n            <el-button\r\n              size=\"mini\"\r\n              type=\"text\"\r\n              @click=\"handleDelete(scope.$index, scope.row)\">删除\r\n            </el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n    <div class=\"pagination-container\">\r\n      <el-pagination\r\n        background\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        layout=\"total, sizes,prev, pager, next,jumper\"\r\n        :page-size=\"listQuery.pageSize\"\r\n        :page-sizes=\"[10,15,20]\"\r\n        :current-page.sync=\"listQuery.pageNum\"\r\n        :total=\"total\">\r\n      </el-pagination>\r\n    </div>\r\n    <div style=\"height: 100px;\"></div>\r\n    <el-dialog\r\n      :title= \"isEdit?'编辑菜单':'添加菜单'\"\r\n      :visible.sync=\"dialogVisible\"\r\n      width=\"40%\">\r\n      <el-form :model=\"resource\"\r\n\r\n               ref=\"resourceForm\"\r\n               label-width=\"150px\" size=\"small\">\r\n        <el-form-item label=\"菜单名称：\" prop=\"title\">\r\n          <el-input v-model=\"resource.title\" style=\"width: 250px\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"上级菜单：\">\r\n            <el-select v-model=\"resource.parentId\"\r\n                           placeholder=\"请选择菜单\">\r\n             <el-option\r\n                    v-for=\"item in selectMenuList\"\r\n                    :key=\"item.menuId\"\r\n                    :label=\"item.title\"\r\n                    :value=\"item.menuId\">\r\n              </el-option>\r\n            </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"前端名称：\" prop=\"name\">\r\n          <el-input v-model=\"resource.frontName\" style=\"width: 250px\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"前端图标：\" prop=\"icon\">\r\n          <el-input v-model=\"resource.icon\" style=\"width: 250px\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"排序：\">\r\n          <el-input v-model=\"resource.sort\" style=\"width: 250px\"></el-input>\r\n        </el-form-item>\r\n\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"onSubmit()\">提交</el-button>\r\n        <el-button v-if=\"!isEdit\" @click=\"resetForm('menuFrom')\">重置</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {menuList,createMenu,deleteMenu,updateMenu,updateHidden} from '@/api/menu'\r\n\r\nconst defaultListQuery = {\r\n    pageNum: 1,\r\n    pageSize: 10,\r\n    menuId: 0\r\n  };\r\n  const defaultResource = {\r\n    menuId:0,\r\n    parentId:0,\r\n    title:null,\r\n    level:null,\r\n    sort:null,\r\n    frontName:null,\r\n    icon:null,\r\n    hidden:null,\r\n    hasSubMenu:null\r\n  };\r\n  export default {\r\n    name: \"menuList\",\r\n    data() {\r\n      return {\r\n        listQuery: Object.assign({}, defaultListQuery),\r\n        list: null,\r\n        total: null,\r\n        dialogVisible :false,\r\n        resource: Object.assign({}, defaultResource),\r\n        isEdit: false,\r\n        parentId: 0,\r\n        selectMenuList :[],\r\n        // rules: {\r\n        //           title: [\r\n        //             {required: true, message: '请输入菜单名称', trigger: 'blur'},\r\n        //             {min: 2, max: 140, message: '长度在 2 到 140 个字符', trigger: 'blur'}\r\n        //           ],\r\n        //           name: [\r\n        //             {required: true, message: '请输入前端名称', trigger: 'blur'},\r\n        //             {min: 2, max: 140, message: '长度在 2 到 140 个字符', trigger: 'blur'}\r\n        //           ],\r\n        //           icon: [\r\n        //             {required: true, message: '请输入前端图标', trigger: 'blur'},\r\n        //             {min: 2, max: 140, message: '长度在 2 到 140 个字符', trigger: 'blur'}\r\n        //           ]\r\n        //         }\r\n      }\r\n    },\r\n    created() {\r\n      this.resetmenuId();\r\n      this.getList();\r\n\r\n    },\r\n\r\n    watch: {\r\n      $route(route) {\r\n        console.log(\"重新进来\");\r\n        this.resetmenuId();\r\n        this.getList();\r\n        this.getMuneAddOrAmendList();\r\n      }\r\n    },\r\n\r\n    methods: {\r\n      resetmenuId(){\r\n          this.listQuery.pageNum = 1;\r\n          if (this.$route.query.menuId != null) {\r\n              this.listQuery.menuId = this.$route.query.menuId;\r\n          } else {\r\n              this.listQuery.menuId = 0;\r\n          }\r\n      },\r\n      //添加菜单\r\n      handleAddMenu() {\r\n        this.dialogVisible = true;\r\n        this.isEdit = false;\r\n        this.resource = Object.assign({},defaultResource);\r\n        this.resource.categoryId = this.defaultCategoryId;\r\n\r\n      },\r\n      getList() {\r\n        this.listLoading = true;\r\n        var menuLiatData = {\"menuId\":this.listQuery.menuId,\"pageNum\":this.listQuery.pageNum,\"pageSize\":this.listQuery.pageSize};\r\n\r\n        menuList(menuLiatData).then(response => {\r\n          this.listLoading = false;\r\n          this.list = response.list;\r\n\r\n          this.total = response.total;\r\n          this.getMuneAddOrAmendList();\r\n        });\r\n      },\r\n\r\n      getMuneAddOrAmendList(){\r\n        var menuLiatData = {\"menuId\":this.listQuery.menuId,\"pageNum\":this.listQuery.pageNum,\"pageSize\":this.listQuery.pageSize};\r\n\r\n        menuList(menuLiatData).then(response => {\r\n          this.selectMenuList = response.list;\r\n          this.total = response.total;\r\n          this.selectMenuList.unshift({menuId: 0, title: '无上级菜单'});\r\n\r\n        });\r\n\r\n      },\r\n      onSubmit(formName) {\r\n        var tempMenuTitle =  this.resource.title;\r\n        var menuTitle =  tempMenuTitle.replace(/\\s+/g,\"\");\r\n\r\n        var tempMenufrontName =  this.resource.frontName;\r\n        var menufrontName =  tempMenufrontName.replace(/\\s+/g,\"\");\r\n        \r\n        \r\n        var tempMenuicon =  this.resource.icon;\r\n        var menuicon =  tempMenuicon.replace(/\\s+/g,\"\");\r\n        \r\n        var tempMenusort =  this.resource.sort;\r\n        var menusort =  tempMenusort.replace(/\\s+/g,\"\");\r\n        if(this.resource.title == null || menuTitle == \"\"){\r\n          this.$message({\r\n            message: '菜单名称不能为空',\r\n            type: 'success'\r\n          });\r\n        }else if(this.resource.frontName == null || menufrontName == \"\"){\r\n          this.$message({\r\n            message: '前端名称不能为空',\r\n            type: 'success'\r\n          });\r\n        }else if(this.resource.icon == null || menuicon == \"\"){\r\n          this.$message({\r\n            message: '前端图标不能为空',\r\n            type: 'success'\r\n          });\r\n        }else if(this.resource.sort == null || menusort == \"\"){\r\n          this.$message({\r\n            message: '排序不能为空',\r\n            type: 'success'\r\n          });\r\n        }else{\r\n          this.$confirm('是否要确认?', '提示', {\r\n            confirmButtonText: '确定',\r\n            cancelButtonText: '取消',\r\n            type: 'warning'\r\n          }).then(() => {\r\n            if (this.isEdit) {\r\n              var updateData = {\"menuId\":this.resource.menuId,\"title\":this.resource.title,\"parentId\":this.resource.parentId,\"sort\":this.resource.sort,\"icon\":this.resource.icon,\"hidden\":1,\"frontName\":this.resource.frontName};\r\n              updateMenu(updateData).then(response => {\r\n                this.$message({\r\n                  message: '修改成功！',\r\n                  type: 'success'\r\n                });\r\n                this.dialogVisible =false;\r\n                this.getList();\r\n              })\r\n            } else {\r\n\r\n              var createData = {\"title\":this.resource.title,\"parentId\":this.resource.parentId,\"sort\":this.resource.sort,\"icon\":this.resource.icon,\"hidden\":1,\"frontName\":this.resource.frontName};\r\n              createMenu(createData).then(response => {\r\n                this.$message({\r\n                  message: '添加成功！',\r\n                  type: 'success'\r\n                });\r\n                this.dialogVisible =false;\r\n                this.getList();\r\n              })\r\n            }\r\n          })\r\n\r\n        }\r\n\r\n\r\n      },\r\n\r\n      resetForm(formName) {\r\n          this.resource = Object.assign({},defaultResource);\r\n          this.resource.categoryId = this.defaultCategoryId;\r\n      },\r\n      handleSizeChange(val) {\r\n        this.listQuery.pageNum = 1;\r\n        this.listQuery.pageSize = val;\r\n        this.getList();\r\n      },\r\n      handleCurrentChange(val) {\r\n        this.listQuery.pageNum = val;\r\n        this.getList();\r\n      },\r\n      handleHiddenChange(index, row) {\r\n        updateHidden(row.id,{hidden:row.hidden}).then(response=>{\r\n          this.$message({\r\n            message: '修改成功',\r\n            type: 'success',\r\n            duration: 1000\r\n          });\r\n        });\r\n      },\r\n      //查看下一级\r\n      handleShowNextLevel(index, row) {\r\n        this.$router.push({path: '/ums/menu', query: {menuId: row.menuId}})\r\n        // this.listQuery.pageNum = 1;\r\n        // var nextLevelData = {\"menuId\":row.menuId,\"pageNum\":this.listQuery.pageNum,\"pageSize\":this.listQuery.pageSize};\r\n        // this.listLoading = true;\r\n        // menuList(nextLevelData).then(response => {\r\n        //   this.listLoading = false;\r\n        //   this.list = response.list;\r\n        //   this.total = response.total;\r\n\r\n        // });\r\n      },\r\n      handleUpdate(index, row) {\r\n        this.alterUserDetail = true;\r\n        this.isEdit = true;\r\n        this.resource = Object.assign({},row);\r\n\r\n\r\n        this.dialogVisible = true;\r\n        this.isEdit = true;\r\n        this.resource = Object.assign({},row);\r\n\r\n      },\r\n      handleDelete(index, row) {\r\n        this.$confirm('是否要删除该菜单', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          var deteleData = {\"menuId\":row.menuId};\r\n          deleteMenu(deteleData).then(response => {\r\n            this.$message({\r\n              message: '删除成功',\r\n              type: 'success',\r\n              duration: 1000\r\n            });\r\n            this.getList();\r\n          });\r\n        });\r\n      },\r\n\r\n      handleSelectResource(index,row){\r\n        this.$router.push({path:'/ums/menuSetResource',query:{menuId:row.menuId}})\r\n      },\r\n\r\n    },\r\n    filters: {\r\n      levelFilter(value) {\r\n        if (value === 1) {\r\n          return '一级';\r\n        } else if (value === 2) {\r\n          return '二级';\r\n        }else if (value === 3) {\r\n          return '三级';\r\n        }\r\n      },\r\n      disableNextLevel(value) {\r\n        if (value === 0) {\r\n          return false;\r\n        } else {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/ums/menu/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('el-card',{staticClass:\"operate-container\",attrs:{\"shadow\":\"never\"}},[_c('i',{staticClass:\"el-icon-tickets\",staticStyle:{\"margin-top\":\"5px\"}}),_vm._v(\" \"),_c('span',{staticStyle:{\"margin-top\":\"5px\"}},[_vm._v(\"菜单列表\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"btn-add\",attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleAddMenu()}}},[_vm._v(\"\\n      添加\\n    \")])],1),_vm._v(\" \"),_c('div',{staticClass:\"table-container\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],ref:\"menuTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.list,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"编号\",\"width\":\"100\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.menuId))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"菜单名称\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.title))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"菜单级数\",\"width\":\"100\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(_vm._f(\"levelFilter\")(scope.row.level)))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"前端名称\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.frontName))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"前端图标\",\"width\":\"100\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('svg-icon',{attrs:{\"icon-class\":scope.row.icon}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"排序\",\"width\":\"100\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.sort))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"设置\",\"width\":\"120\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\",\"disabled\":_vm._f(\"disableNextLevel\")(scope.row.hasSubMenu)},on:{\"click\":function($event){return _vm.handleShowNextLevel(scope.$index, scope.row)}}},[_vm._v(\"查看下级\\n          \")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"200\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.handleSelectResource(scope.$index, scope.row)}}},[_vm._v(\"\\n            分配资源\\n          \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.handleUpdate(scope.$index, scope.row)}}},[_vm._v(\"编辑\\n          \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.handleDelete(scope.$index, scope.row)}}},[_vm._v(\"删除\\n          \")])]}}])})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"pagination-container\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"total, sizes,prev, pager, next,jumper\",\"page-size\":_vm.listQuery.pageSize,\"page-sizes\":[10,15,20],\"current-page\":_vm.listQuery.pageNum,\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){return _vm.$set(_vm.listQuery, \"pageNum\", $event)},\"update:current-page\":function($event){return _vm.$set(_vm.listQuery, \"pageNum\", $event)}}})],1),_vm._v(\" \"),_c('div',{staticStyle:{\"height\":\"100px\"}}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.isEdit?'编辑菜单':'添加菜单',\"visible\":_vm.dialogVisible,\"width\":\"40%\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{ref:\"resourceForm\",attrs:{\"model\":_vm.resource,\"label-width\":\"150px\",\"size\":\"small\"}},[_c('el-form-item',{attrs:{\"label\":\"菜单名称：\",\"prop\":\"title\"}},[_c('el-input',{staticStyle:{\"width\":\"250px\"},model:{value:(_vm.resource.title),callback:function ($$v) {_vm.$set(_vm.resource, \"title\", $$v)},expression:\"resource.title\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"上级菜单：\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择菜单\"},model:{value:(_vm.resource.parentId),callback:function ($$v) {_vm.$set(_vm.resource, \"parentId\", $$v)},expression:\"resource.parentId\"}},_vm._l((_vm.selectMenuList),function(item){return _c('el-option',{key:item.menuId,attrs:{\"label\":item.title,\"value\":item.menuId}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"前端名称：\",\"prop\":\"name\"}},[_c('el-input',{staticStyle:{\"width\":\"250px\"},model:{value:(_vm.resource.frontName),callback:function ($$v) {_vm.$set(_vm.resource, \"frontName\", $$v)},expression:\"resource.frontName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"前端图标：\",\"prop\":\"icon\"}},[_c('el-input',{staticStyle:{\"width\":\"250px\"},model:{value:(_vm.resource.icon),callback:function ($$v) {_vm.$set(_vm.resource, \"icon\", $$v)},expression:\"resource.icon\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"排序：\"}},[_c('el-input',{staticStyle:{\"width\":\"250px\"},model:{value:(_vm.resource.sort),callback:function ($$v) {_vm.$set(_vm.resource, \"sort\", $$v)},expression:\"resource.sort\"}})],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.onSubmit()}}},[_vm._v(\"提交\")]),_vm._v(\" \"),(!_vm.isEdit)?_c('el-button',{on:{\"click\":function($event){return _vm.resetForm('menuFrom')}}},[_vm._v(\"重置\")]):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-626a0bbc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/ums/menu/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-626a0bbc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-626a0bbc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-626a0bbc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/ums/menu/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}